<div fxLayout = "column" [fxLayoutGap] = "block.fields.bottomPadding">
    <div fxLayout = "row" style = "position:relative;" 
        [fxLayoutAlign] = "block.fields.contentPosition + ' ' +  block.fields.verticalContentPosition">
        <div *ngIf = "imgLoaded" 
            fxLayout = "row"
            [fxFlex] = "block.fields.width"
            fxLayoutGap = "30px" 
            class = "doo-overlay-box full-width doo-contentful" 
            [fxLayoutAlign] = "block.fields.contentPosition">
            <div></div>
                <div fxFlexLayout = "column" 
                    [fxFlex] = "block.fields.textBoxWidth"
                    fxFlex.sm = "80"
                    fxFlex.xs = "100">
                        <div [class.primary-color] = "block.fields.textColor == 'Primary'"
                             [class.accent-color] = "block.fields.textColor == 'Accent'"
                             [class.white-color] = "block.fields.textColor == 'White'"
                             [class.black-color] = "block.fields.textColor == 'Black'"  
                            [style.text-align] = "block.fields.textAlign" [innerHTML] = "block.fields.content | richTextPipe">
                        </div>
                                <div [fxLayoutAlign] = "block.fields.actionsPosition" fxLayoutGap = "20px">
                                    <div *ngFor = "let cta of block.fields.actions">
                                        <div [ngSwitch]="cta.fields.appearence">
                                                        <button *ngSwitchCase="'flat'" 
                                                        color = "primary" 
                                                        mat-flat-button 
                                                        class = "doo-cta-btn">
                                                        {{cta.fields.name}}
                                                        </button> 
                                                        <button *ngSwitchCase="'stroked'" 
                                                        color = "primary" 
                                                        mat-stroked-button 
                                                        class = "doo-cta-btn">
                                                        {{cta.fields.name}}
                                                        </button>
                                                        <button *ngSwitchCase="'arrow'" 
                                                        color = "primary" 
                                                        mat-stroked-button 
                                                        class = "doo-cta-btn">
                                                        {{cta.fields.name}}
                                                        <mat-icon  svgIcon="doo-arrow-right"></mat-icon>
                                                        </button>    
                                                        <button *ngSwitchCase="'rasied'" 
                                                        color = "primary" 
                                                        mat-rasied-button 
                                                        class = "doo-cta-btn">
                                                        {{cta.fields.name}}
                                                        </button>                                               
                                        </div>
                             </div>
                                </div>
                </div>
                <div></div>
        </div>
        <div fxLayout = "row" 
            [fxFlex] = "block.fields.width" 
            fxLayoutAlign = "center" 
            [ngClass] = "bigScreens.includes(this.resolution) ? '' : 'crop'">
                <img #postImg *ngIf = "block.fields.media[0].fields.file.details.image"   
                    class = "full-width post-placeholder"
                    style = "object-fit: cover;height: 100%;"
                    [lazyLoad]="block.fields.media[0].fields.file.url"
                    [defaultImage]="'assets/placeholders/placeholder-full-width-post.svg'"
                    (onStateChange)="myCallbackFunction($event)">
                <video  #mainVid *ngIf = "!block.fields.media[0].fields.file.details.image" 
                       [src] = "block.fields.media[0].fields.file.url" 
                       autoplay 
                       muted 
                       loop
                       playsinline 
                       class = "full-width"
                       (loadeddata) = "loadComplete()">
                </video>
        </div>
    </div>
    <div></div>
</div>